pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

GRID_HEIGHT = 16
GRID_WIDTH = 16

CELLS = 8

cam_x = 0
cam_y = 0

local CellData = {}

function _init()
    
end

function _update()

    x = 0
    y = 0
    if btn(0) then
        x = -1
    elseif btn(1) then
        x = 1
    elseif btn(2) then
        y = -1
    elseif btn(3) then
        y = 1
    end

    cam_x = cam_x + x
    cam_y = cam_y + y

    camera(cam_x, cam_y)

end

function _draw()
    cls()
    -- draw each cell
    for cell_y=0,CELLS-1 do
        for cell_x=0,CELLS-1 do
            color = (cell_x + cell_y) % 5 + 1
            cell_startx = (cell_x * GRID_HEIGHT) + (-1 * cell_y * GRID_HEIGHT)
            cell_starty = (cell_x * GRID_HEIGHT/2) + (cell_y * GRID_HEIGHT/2)
            -- circfill(cell_startx, cell_starty, 1, 2)
            for i=0,GRID_HEIGHT/2-1 do
                starty = cell_starty + 1 + i
                line(cell_startx - 2*i, starty, cell_startx + 2*i, starty, color)
            end
            for i=0,GRID_HEIGHT/2-1 do
                starty = cell_starty + GRID_HEIGHT/2 + i
                line(cell_startx - 2*(GRID_HEIGHT/2-i), starty, cell_startx + 2*(GRID_HEIGHT/2-i), starty, color)
            end
        end
    end
    -- draw grid outline
    for i=0,CELLS do
        startx = -1 * i * GRID_HEIGHT
        starty = i*GRID_HEIGHT/2
        line(startx, starty, startx+GRID_WIDTH*CELLS, starty+GRID_HEIGHT/2*CELLS, 6)
        startx = i * GRID_HEIGHT
        starty = i*GRID_HEIGHT/2
        line(startx, starty, startx-GRID_WIDTH*CELLS, starty+GRID_HEIGHT/2*CELLS, 6)
    end
end

function randint(min, max)
    return flr(rnd(max - min + 1)) + min
end

__gfx__
00000000448008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
04480080448dd8000800400008050050660800800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0448dd8004499d0008dd440008d555506668dd800888880600000000000000000000000000000000000000000000000000000000000000000000000000000000
004499d0004886000d99d4000d952850066d99d00444466000000000000000000000000000787000000000000000000000000000000000000000000000000000
0004880000048660008444460085285000dd88005555555500000000000000400000000000778700078700000000000000000000000000000000000000000000
00004800066dd60000880400008528500000d8005888885078700000000000470000000000078700007870000000000000000000000000000000000000000000
0000dd000066660000dd440000dd55000000dd000555550007870000000000477000000000078700007870000060008000008000000000000000000000000000
00000000006006000000400000000000000000000000000007870000000000477700000000078700007870000066008880888000000000000000000000000000
0000000000000000000000000000000000000000000000000787000000000047777000000007778800777000006d6008ddd80000000000000000000000000000
00000000000000000000000000000000000000000000000007778008000000478778000000009888800900000006d60d090d0000000000000000000000000000
00000000000000000000000000000000000000000000000000408dd8000000478dd87000000090440009000000006d6099900000000000000000000000000000
0000000000000000000000000000000000000000000000000040d99d00000040d99d000000088888888888000000066d88800000000000000000000000000000
0000000000000000000000000000000000000000000000000088888800008888888800000000444444444000000000dd88800000000000000000000000000000
000000000000000000000000000000000000000000000000008888880000888888800000000044545454000000000000d8800000000000000000000000000000
00000000000000000000000000000000000000000000000000044440000004444400000000000444444000000000000050500000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000080080000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000009080080900000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000008008000000000000989989000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000080080000000000008888000000000000088880000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000088880000000000088888800000000000888888000000000000000000000000000000000000
00000000000000000000000000000000000008008000000000000888888000000000888888880000000008888888800000000000000000000000000000000000
00000000000000000000000000000000000000880000000000008888888800000008888668888000000000056650000000000000000000000000000000000000
00000099000000000000008800000000000008888000000000000056650000000000005555000000000008888888800000000000000000000000000000000000
00000999900000000000088880000000000088888800000000000055550880000000088888888000000000566665000000000000000000000000000000000000
00000044009900000000006600880000000005665088000000000056658888000000005665888800000088888888880000000000000000000000000000000000
00000000099990000000000008888000000000000888800000000000088888800000008808888880000000566665000000000000000000000000000000000000
00000000004400000000000000660000000000000066000000000000005665000000088880566500000000004400000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000006600000000000000004400000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000004400000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000e0000000000000000000000000000067700000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000eee000000000000000000000000000067700000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000e0040000000000000000000000000000667770000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000eee040e00000000000000000000000000667d70000000000000000000000000000000000000000000000000000000000000000000000
000000033000000000e004000eee0e00000009300000000000006d57d57000000000000000000000000000000000000000000000000000000000000000000000
00000330033000000eee040e0040eee00000099003900000000dd555d55d00000000000000000000000000000000000000000000000000000000000000000000
0003300330033000004000eee040040000000440099000000d55d55ddd55d5500000000000000000000000000000000000000000000000000000000000000000
0000033003300000000000040000000000000000044000000dd555d5d5d5ddd00000000000000000000000000000000000000000000000000000000000000000
000000033000000000000004000000000000000000000000000dd5d5d55dd0000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000dd5ddd000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000dd00000000000000000000000000000000000000000000000000000000000000000000000
